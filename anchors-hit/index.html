<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AR Room - Quest 3</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <a-scene
      ar-ui
      hit-test-cursor="cursor: #cursor; ring: #cursorRing"
      zone-tool="root: #anchor-root; cursor: #cursor; max: 4"
      xr-mode-ui="enterARButton: #start-ar-button; XRMode: xr;"
      renderer="alpha: true"
      webxr="referenceSpaceType: local-floor; requiredFeatures: local-floor; optionalFeatures: hit-test;"
    >
      <a-entity
        camera
        look-controls
        wasd-controls="enabled: false"
        position="0 1.6 0"
      >
        <a-entity
          id="hint"
          position="0 0 -1.2"
          visible="false"
          text="value: Aim at a surface.\nPress Trigger to pick points.; align: center; width: 2; color: white"
        ></a-entity>
      </a-entity>

      <!-- Controllers -->
      <a-entity id="leftHand" laser-controls="hand: left"></a-entity>
      <a-entity id="rightHand" laser-controls="hand: right"></a-entity>

      <a-entity id="anchor-root"></a-entity>

      <a-entity id="cursor" visible="false">
        <a-ring
          id="cursorRing"
          color="#00FF7F"
          radius-inner="0.03"
          radius-outer="0.06"
        ></a-ring>
        <a-cone
          color="#00FF7F"
          height="0.08"
          radius-bottom="0.02"
          position="0 0.04 0"
        ></a-cone>
      </a-entity>
    </a-scene>

    <div id="overlay">
      <button id="start-ar-button" class="ar-button">Start AR</button>
      <div id="status"></div>
    </div>

    <div
      id="click-text"
      style="
        position: absolute;
        bottom: 20px;
        left: 20px;
        color: white;
        font-size: 18px;
        background: rgba(0, 0, 0, 0.7);
        padding: 10px;
        border-radius: 5px;
      "
    >
      Last click: none
    </div>
    <div
      id="status-text"
      style="
        position: absolute;
        top: 20px;
        left: 20px;
        color: white;
        font-size: 18px;
        background: rgba(0, 0, 0, 0.7);
        padding: 10px;
        border-radius: 5px;
      "
    >
      Status: idle
    </div>

    <script src="script.js"></script>
  </body>
</html>
